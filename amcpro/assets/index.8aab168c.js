import{q as ee,f as ae,s as te,t as oe,_ as le}from"./index.501f0ba6.js";/* empty css              *//* empty css              */import{u as ne}from"./loading.17b3e2e1.js";/* empty css               */import{c as I,d as U,a$ as F,B,aD as G,aH as e,u as M,bu as re,e as s,C as L,aG as t,aL as d,F as ue,aJ as se,aI as de,b5 as ce,b6 as ie,bC as pe,bD as _e,bE as me,bF as fe,bb as ve,bG as ge,bH as ye,bI as be,bJ as xe,bK as Ce,bL as he,bM as ke}from"./arco.2ed16239.js";import"./chart.cd9a37f9.js";import"./vue.4edc217e.js";function Ve(f){return ee.post("/amc-pro-api/list/getReplayData",f)}function we(f){const _=ae(),v=I(()=>_.theme==="dark");return{chartOption:I(()=>f(v.value))}}const Ne=U({__name:"line-chart",props:{columns:{type:Number,default:4},name:{type:String,default:""},timer:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},vid:{type:Number,default:100},category:{type:String,default:""}},setup(f){const _=f,v=_.category=="good"?"red":"green",{chartOption:x}=we(()=>({title:{text:_.name},xAxis:{type:"category",data:_.timer},yAxis:{type:"value"},series:[{data:_.data,type:"line",smooth:!0,lineStyle:{color:v}}]}));return(g,u)=>{const C=F("Chart");return B(),G(re,null,[e(C,{style:{width:"100%",height:"370px"},option:M(x)},null,8,["option"])],1024)}}}),Be={class:"container"},Oe={class:"panel"},Se={name:"Replay"},Te=U({...Se,setup(f){const{loading:_,setLoading:v}=ne(!0),x=()=>({tickerOrCompanyName:"",sectorType:"",range:[]}),g=s(4),u=s(x()),C=s([]),o=s([]),O=s([]),y=s([]),A=s([]),b=s("0"),h=s("0"),k=s("0"),V=s("0"),w=s("0"),E=async n=>{v(!0);const a=await Ve({...n}),{tickers:r}=a.data,m=r.sector.map((c,i)=>({label:c,value:c}));m.unshift({label:"all",value:0}),C.value=m,o.value=r.arr,A.value=r.timer,O.value=[...r.arr],y.value=[...r.arr],k.value=r.arr.length,V.value=r.arr.filter(c=>c.category=="good").length,w.value=r.arr.filter(c=>c.category=="bad").length,v(!1)},H=n=>{if(g.value!=n){if(n==10){g.value=12;return}g.value=n}};E({});const S=()=>{const n=[...O.value];u.value.tickerOrCompanyName?o.value=n.filter(a=>a.name.indexOf(u.value.tickerOrCompanyName)!=-1):o.value=n,b.value="0",h.value="0",k.value=o.value.length,V.value=o.value.filter(a=>a.category=="good").length,w.value=o.value.filter(a=>a.category=="bad").length,y.value=[...o.value]},J=()=>{const n=[...O.value];u.value.sectorType?o.value=n.filter(a=>a.sector==u.value.sectorType):o.value=n,b.value="0",h.value="0",k.value=o.value.length,V.value=o.value.filter(a=>a.category=="good").length,w.value=o.value.filter(a=>a.category=="bad").length,y.value=[...o.value]},K=n=>{const a=[...y.value];n!=0?o.value=a.filter(r=>r.category==n):o.value=a,b.value="0"},P=n=>{const a=[...y.value];n=="0"?o.value=a.sort((r,m)=>r.index-m.index):o.value=a.sort((r,m)=>m.index-r.index)};return(n,a)=>{const r=F("Breadcrumb"),m=ce,c=ie,i=pe,q=_e,Q=me,N=fe,j=ve,R=ge,p=ye,T=be,D=xe,$=Ce,z=te,W=oe,X=he,Y=ke;return B(),L("div",Be,[e(r,{items:["Replay"]}),e(Y,{class:"general-card",title:"Replay Monitor"},{default:t(()=>[e(N,null,{default:t(()=>[e(i,{flex:1},{default:t(()=>[e(j,{model:u.value,"label-col-props":{span:6},"wrapper-col-props":{span:18},"label-align":"left"},{default:t(()=>[e(N,{gutter:16},{default:t(()=>[e(i,{span:8},{default:t(()=>[e(c,{field:"tickerOrCompanyName",label:"Ticker / Name"},{default:t(()=>[e(m,{modelValue:u.value.tickerOrCompanyName,"onUpdate:modelValue":a[0]||(a[0]=l=>u.value.tickerOrCompanyName=l),placeholder:"Ticker or Company Name",onPressEnter:a[1]||(a[1]=l=>S()),onBlur:a[2]||(a[2]=l=>S()),"allow-clear":"",onClear:a[3]||(a[3]=l=>S())},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{span:8},{default:t(()=>[e(c,{field:"sectorType",label:"Sector"},{default:t(()=>[e(q,{modelValue:u.value.sectorType,"onUpdate:modelValue":a[4]||(a[4]=l=>u.value.sectorType=l),options:C.value,placeholder:"Sector",onChange:a[5]||(a[5]=l=>J())},null,8,["modelValue","options"])]),_:1})]),_:1}),e(i,{span:8},{default:t(()=>[e(c,{field:"range",label:"Range"},{default:t(()=>[e(Q,{modelValue:u.value.range,"onUpdate:modelValue":a[6]||(a[6]=l=>u.value.range=l),style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),e(R,{orientation:"left"},{default:t(()=>[d("Quick filter")]),_:1}),e(N,{gutter:24},{default:t(()=>[e(i,{span:3},{default:t(()=>[d(" Category: "),e($,{"default-value":"0",type:"button",modelValue:h.value,"onUpdate:modelValue":a[7]||(a[7]=l=>h.value=l),onChange:K},{default:t(()=>[e(T,{count:k.value,"max-count":999},{default:t(()=>[e(p,{value:"0","default-checked":""},{default:t(()=>[d("All")]),_:1})]),_:1},8,["count"]),e(T,{count:V.value},{default:t(()=>[e(p,{value:"good"},{default:t(()=>[e(D,{type:"danger"},{default:t(()=>[d("Good")]),_:1})]),_:1})]),_:1},8,["count"]),e(T,{count:w.value,"max-count":999},{default:t(()=>[e(p,{value:"bad"},{default:t(()=>[e(D,{type:"success"},{default:t(()=>[d("Bad")]),_:1})]),_:1})]),_:1},8,["count"])]),_:1},8,["modelValue"])]),_:1}),e(i,{span:3},{default:t(()=>[d(" Sort: "),e($,{"default-value":"0",type:"button",modelValue:b.value,"onUpdate:modelValue":a[8]||(a[8]=l=>b.value=l),onChange:P},{default:t(()=>[e(p,{value:"0"},{default:t(()=>[e(z)]),_:1}),e(p,{value:"1"},{default:t(()=>[e(W)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{span:3},{default:t(()=>[d(" Layout: "),e($,{"default-value":"4",type:"button",onChange:H},{default:t(()=>[e(p,{value:"4"},{default:t(()=>[d("6")]),_:1}),e(p,{value:"6"},{default:t(()=>[d("4")]),_:1}),e(p,{value:"8"},{default:t(()=>[d("3")]),_:1}),e(p,{value:"12"},{default:t(()=>[d("2")]),_:1})]),_:1})]),_:1})]),_:1}),e(R),ue("div",Oe,[e(X,{loading:M(_),style:{width:"100%"}},{extra:t(()=>[d(" Latest Update: 2023-11-20 ")]),default:t(()=>[e(N,{gutter:24},{default:t(()=>[(B(!0),L(se,null,de(o.value,(l,Z)=>(B(),G(i,{key:`idx-${l.index}`,span:g.value},{default:t(()=>[e(Ne,{timer:A.value,name:l.name,data:l.data,category:l.category,vid:Z},null,8,["timer","name","data","category","vid"])]),_:2},1032,["span"]))),128))]),_:1})]),_:1},8,["loading"])])]),_:1})])}}});const Ge=le(Te,[["__scopeId","data-v-f7b96aa2"]]);export{Ge as default};
